{% extends "base.html" %}

{% block title %}계약 상세 정보 - 자산관리 시스템{% endblock %}

{% block page_header %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h2 mb-0 text-gray-800">
        <i class="fas fa-file-contract me-2 text-primary"></i>계약 상세 정보
    </h1>
    <div class="d-flex gap-2">
        <a href="{{ url_for('contract.index') }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left me-1"></i> 목록으로
        </a>
        <a href="{{ url_for('contract.edit', contract_id=contract_id) }}" class="btn btn-warning">
            <i class="fas fa-edit me-1"></i> 수정
        </a>
        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">
            <i class="fas fa-trash-alt me-1"></i> 삭제
        </button>
    </div>
</div>
{% endblock %}

{% block content %}
<!-- 안내 메시지 -->
<div class="alert alert-info border-0 shadow-sm mb-4">
    <div class="d-flex align-items-center">
        <i class="fas fa-info-circle me-3 text-info"></i>
        <div>
            <strong>기능 준비중</strong>
            <div class="text-muted small">계약 상세 정보 기능은 현재 개발중입니다. 곧 추가될 예정입니다.</div>
        </div>
    </div>
</div>

        <div class="row">
    <!-- 메인 콘텐츠 -->
    <div class="col-lg-8">
        <!-- 계약 요약 정보 -->
        <div class="card shadow-sm border-0 mb-4">
            <div class="card-header bg-light border-bottom py-3">
                <div class="d-flex justify-content-between align-items-center">
                    <h6 class="mb-0 fw-semibold text-gray-800">
                        <i class="fas fa-info-circle me-2 text-primary"></i>계약 정보
                    </h6>
                    <span class="badge bg-success fs-6 px-3 py-2">
                        <i class="fas fa-check-circle me-1"></i>활성
                    </span>
                </div>
            </div>
            <div class="card-body p-4">
                <div class="row">
            <div class="col-md-6">
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">계약 번호</label>
                            <h5 class="fw-bold text-primary">CONTRACT-{{ contract_id }}</h5>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">계약명</label>
                            <h5 class="fw-bold">Adobe Creative Cloud 라이선스 계약</h5>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">계약 유형</label>
                            <p class="mb-0">
                                <span class="badge bg-info fs-6 px-3 py-2">
                                    <i class="fas fa-file-code me-1"></i>라이선스
                                </span>
                            </p>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">계약 업체</label>
                            <p class="mb-0 fw-medium">
                                <i class="fas fa-building me-2 text-muted"></i>Adobe Inc.
                            </p>
                        </div>
                        
                        <div class="mb-0">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">담당자</label>
                            <p class="mb-0 fw-medium">
                                <i class="fas fa-user me-2 text-muted"></i>홍길동
                            </p>
            </div>
        </div>
                    
                    <div class="col-md-6">
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">계약 기간</label>
                            <p class="mb-0 fw-medium">
                                <i class="fas fa-calendar me-2 text-muted"></i>2023-09-01 ~ 2024-08-31
                            </p>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">계약 금액</label>
                            <h5 class="fw-bold text-success mb-0">
                                <i class="fas fa-won-sign me-1"></i>5,000,000원
                            </h5>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">결제 주기</label>
                            <p class="mb-0 fw-medium">
                                <i class="fas fa-calendar-check me-2 text-muted"></i>연간
                            </p>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label fw-bold text-gray-600 text-uppercase small">남은 기간</label>
                            <div class="d-flex align-items-center">
                                <div class="progress flex-grow-1 me-3" style="height: 8px;">
                                    <div class="progress-bar bg-warning" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <span class="text-warning fw-bold">270일</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4 pt-4 border-top">
                    <label class="form-label fw-bold text-gray-600 text-uppercase small">계약 설명</label>
                    <div class="card bg-light border-0">
                        <div class="card-body p-3">
                            <p class="mb-0">디자인팀에서 사용하는 Adobe Creative Cloud 라이선스 계약입니다. 전체 10개 라이선스가 포함되어 있습니다.</p>
                        </div>
                    </div>
        </div>
    </div>
</div>

<!-- 계약 관련 자산 목록 -->
        <div class="card shadow-sm border-0 mb-4">
            <div class="card-header bg-light border-bottom py-3">
                <h6 class="mb-0 fw-semibold text-gray-800">
                    <i class="fas fa-boxes me-2 text-primary"></i>계약 관련 자산
                </h6>
    </div>
            <div class="card-body p-0">
        <div class="table-responsive">
                    <table class="table table-hover table-striped align-middle mb-0">
                <thead class="table-light">
                    <tr>
                                <th class="px-3 py-3 fw-semibold">자산번호</th>
                                <th class="px-3 py-3 fw-semibold">자산명</th>
                                <th class="px-3 py-3 fw-semibold">카테고리</th>
                                <th class="px-3 py-3 fw-semibold">사용자</th>
                                <th class="px-3 py-3 fw-semibold">상태</th>
                                <th class="px-3 py-3 fw-semibold text-center">관리</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                                <td colspan="6" class="text-center py-5">
                                    <div class="empty-state">
                                        <i class="fas fa-box-open fa-3x mb-3 text-muted"></i>
                                        <h6 class="text-muted">연결된 자산이 없습니다</h6>
                                        <p class="text-muted small">이 계약과 연결된 자산이 없습니다.</p>
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- 계약 관련 문서 -->
        <div class="card shadow-sm border-0">
            <div class="card-header bg-light border-bottom py-3 d-flex justify-content-between align-items-center">
                <h6 class="mb-0 fw-semibold text-gray-800">
                    <i class="fas fa-file-alt me-2 text-primary"></i>계약 문서
                </h6>
                <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#uploadModal">
                    <i class="fas fa-upload me-1"></i> 문서 추가
                </button>
    </div>
            <div class="card-body p-0">
        <div class="table-responsive">
                    <table class="table table-hover table-striped align-middle mb-0">
                <thead class="table-light">
                    <tr>
                                <th class="px-3 py-3 fw-semibold">문서명</th>
                                <th class="px-3 py-3 fw-semibold">유형</th>
                                <th class="px-3 py-3 fw-semibold">업로드 날짜</th>
                                <th class="px-3 py-3 fw-semibold">크기</th>
                                <th class="px-3 py-3 fw-semibold text-center">관리</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                                <td colspan="5" class="text-center py-5">
                                    <div class="empty-state">
                                        <i class="fas fa-file-upload fa-3x mb-3 text-muted"></i>
                                        <h6 class="text-muted">업로드된 문서가 없습니다</h6>
                                        <p class="text-muted small">계약 관련 문서를 업로드해보세요.</p>
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 사이드바 -->
    <div class="col-lg-4">
        <!-- 계약 상태 요약 -->
        <div class="card shadow-sm border-0 mb-4">
            <div class="card-header bg-light border-bottom py-3">
                <h6 class="mb-0 fw-semibold text-gray-800">
                    <i class="fas fa-chart-pie me-2 text-primary"></i>계약 요약
                </h6>
            </div>
            <div class="card-body p-3">
                <div class="row g-3 text-center">
                    <div class="col-6">
                        <div class="p-3 bg-light rounded">
                            <i class="fas fa-calendar-day fa-2x text-primary mb-2"></i>
                            <div class="fw-bold">계약 시작</div>
                            <div class="small text-muted">2023-09-01</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 bg-light rounded">
                            <i class="fas fa-calendar-times fa-2x text-warning mb-2"></i>
                            <div class="fw-bold">계약 만료</div>
                            <div class="small text-muted">2024-08-31</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 bg-light rounded">
                            <i class="fas fa-won-sign fa-2x text-success mb-2"></i>
                            <div class="fw-bold">총 금액</div>
                            <div class="small text-muted">₩5,000,000</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="p-3 bg-light rounded">
                            <i class="fas fa-calendar-check fa-2x text-info mb-2"></i>
                            <div class="fw-bold">결제 주기</div>
                            <div class="small text-muted">연간</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 빠른 액션 -->
        <div class="card shadow-sm border-0 mb-4">
            <div class="card-header bg-light border-bottom py-3">
                <h6 class="mb-0 fw-semibold text-gray-800">
                    <i class="fas fa-bolt me-2 text-primary"></i>빠른 액션
                </h6>
            </div>
            <div class="card-body p-3">
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-print me-1"></i> 계약서 인쇄
                    </button>
                    <button class="btn btn-outline-info btn-sm">
                        <i class="fas fa-file-export me-1"></i> PDF 내보내기
                    </button>
                    <button class="btn btn-outline-warning btn-sm">
                        <i class="fas fa-bell me-1"></i> 만료 알림 설정
                    </button>
                    <button class="btn btn-outline-success btn-sm">
                        <i class="fas fa-sync-alt me-1"></i> 계약 갱신
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 관련 계약 -->
        <div class="card shadow-sm border-0">
            <div class="card-header bg-light border-bottom py-3">
                <h6 class="mb-0 fw-semibold text-gray-800">
                    <i class="fas fa-link me-2 text-primary"></i>관련 계약
                </h6>
            </div>
            <div class="card-body p-3">
                <div class="alert alert-light border border-light text-center">
                    <i class="fas fa-file-contract fa-2x mb-2 text-muted"></i>
                    <p class="text-muted mb-0 small">관련 계약이 없습니다</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 삭제 확인 모달 -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">
                    <i class="fas fa-exclamation-triangle me-2 text-warning"></i>계약 삭제 확인
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-warning border-0">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-exclamation-triangle me-3 text-warning"></i>
                        <div>
                            <strong>주의</strong>
                            <div class="text-muted small">계약을 삭제하면 모든 관련 이력과 문서가 영구적으로 삭제됩니다.</div>
                        </div>
                    </div>
                </div>
                
                <p class="mb-3">다음 계약을 삭제하시겠습니까?</p>
                <div class="card bg-light border-0">
                    <div class="card-body p-3">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-file-contract fa-2x text-primary me-3"></i>
                            <div>
                                <div class="fw-bold">Adobe Creative Cloud 라이선스 계약</div>
                                <div class="text-muted small">CONTRACT-{{ contract_id }}</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="alert alert-info border-0 mt-3">
                    <i class="fas fa-info-circle me-2"></i> 이 기능은 데이터베이스 연동 후 구현될 예정입니다.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                <button type="button" class="btn btn-danger">
                    <i class="fas fa-trash-alt me-1"></i>삭제
                </button>
            </div>
        </div>
    </div>
</div>

<!-- 문서 업로드 모달 -->
<div class="modal fade" id="uploadModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="uploadModalLabel">
                    <i class="fas fa-upload me-2 text-primary"></i>문서 업로드
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">파일 선택</label>
                        <input type="file" class="form-control" multiple>
                        <div class="form-text">최대 10MB, PDF, DOC, XLS 파일만 업로드 가능합니다.</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">문서 유형</label>
                        <select class="form-select">
                            <option>계약서 원본</option>
                            <option>부속 계약서</option>
                            <option>첨부 자료</option>
                            <option>기타</option>
                        </select>
                    </div>
                </form>
                <div class="alert alert-info border-0 mt-3">
                    <i class="fas fa-info-circle me-2"></i> 이 기능은 데이터베이스 연동 후 구현될 예정입니다.
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                <button type="button" class="btn btn-primary">
                    <i class="fas fa-upload me-1"></i>업로드
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %} 

{% block scripts %}
<script src="{{ url_for('static', filename='js/pages/contract/detail.js') }}"></script>
{% endblock %} 
