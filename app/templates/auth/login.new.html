{% extends "base.html" %}

{% block title %}로그인 - 자산관리 시스템{% endblock %}

{% block content %}
<!-- 새로운 매크로 시스템 사용 -->
{% from 'macros/forms.html' import form_group, form_input, form_checkbox %}
{% from 'macros/buttons.html' import btn %}
{% from 'macros/cards.html' import info_card %}

<div class="auth-layout">
    <div class="auth-layout__container">
        <div class="auth-card">
            <!-- 헤더 -->
            <div class="auth-card__header">
                <div class="auth-card__logo">
                    <i class="fas fa-cubes"></i>
                </div>
                <h1 class="auth-card__title">자산관리 시스템</h1>
                <p class="auth-card__subtitle">시스템에 로그인하여 자산을 관리하세요</p>
            </div>

            <!-- 로그인 폼 -->
            <div class="auth-card__body">
                <form method="POST" action="{{ url_for('auth.login') }}" class="auth-form">
                    {{ csrf_token() if csrf_token }}
                    
                    <!-- 사용자 ID -->
                    {{ form_group(
                        label='사용자 ID',
                        control=form_input(
                            name='username',
                            placeholder='사용자 ID를 입력하세요',
                            required=true,
                            icon='fa-user',
                            id='username'
                        ),
                        required=true
                    ) }}
                    
                    <!-- 비밀번호 -->
                    {{ form_group(
                        label='비밀번호',
                        control=form_input(
                            type='password',
                            name='password',
                            placeholder='비밀번호를 입력하세요',
                            required=true,
                            icon='fa-lock',
                            id='password'
                        ),
                        required=true
                    ) }}
                    
                    <!-- 로그인 상태 유지 -->
                    <div class="auth-form__options">
                        {{ form_checkbox(
                            name='remember',
                            label='로그인 상태 유지',
                            id='remember'
                        ) }}
                    </div>
                    
                    <!-- 로그인 버튼 -->
                    <div class="auth-form__submit">
                        {{ btn(
                            '로그인',
                            variant='primary',
                            size='lg',
                            type='submit',
                            block=true,
                            icon='fa-sign-in-alt'
                        ) }}
                    </div>
                </form>
            </div>

            <!-- 푸터 - 데모 계정 정보 -->
            <div class="auth-card__footer">
                <div class="demo-accounts">
                    <h4 class="demo-accounts__title">데모 계정</h4>
                    <div class="demo-accounts__list">
                        <div class="demo-account">
                            <div class="demo-account__role">관리자</div>
                            <div class="demo-account__credentials">
                                <span class="demo-account__username">admin</span>
                                <span class="demo-account__separator">/</span>
                                <span class="demo-account__password">password</span>
                            </div>
                        </div>
                        <div class="demo-account">
                            <div class="demo-account__role">일반 사용자</div>
                            <div class="demo-account__credentials">
                                <span class="demo-account__username">user1</span>
                                <span class="demo-account__separator">/</span>
                                <span class="demo-account__password">password</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 시스템 정보 카드 -->
        <div class="auth-layout__info">
            {{ info_card(
                title='자산관리 시스템',
                content='
                <ul class="system-features">
                    <li><i class="fas fa-check text-success"></i> 통합 자산 관리</li>
                    <li><i class="fas fa-check text-success"></i> 대여 및 반납 시스템</li>
                    <li><i class="fas fa-check text-success"></i> 실시간 상태 추적</li>
                    <li><i class="fas fa-check text-success"></i> 보고서 자동 생성</li>
                    <li><i class="fas fa-check text-success"></i> 모바일 반응형 지원</li>
                </ul>
                ',
                elevation='elevated'
            ) }}
        </div>
    </div>
</div>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/auth/login.new.css') }}">
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/pages/auth/login.js') }}"></script>
{% endblock %}